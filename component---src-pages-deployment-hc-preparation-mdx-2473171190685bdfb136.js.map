{"version":3,"file":"component---src-pages-deployment-hc-preparation-mdx-2473171190685bdfb136.js","mappings":"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","sources":["webpack://spm-kubernetes/./src/pages/deployment/hc_preparation.mdx","webpack://spm-kubernetes/./node_modules/gatsby-theme-carbon/src/components/PageHeader/index.js","webpack://spm-kubernetes/./node_modules/gatsby-theme-carbon/src/components/PageHeader/PageHeader.js","webpack://spm-kubernetes/./node_modules/gatsby-theme-carbon/src/components/PageHeader/PageHeader.module.scss","webpack://spm-kubernetes/./node_modules/gatsby-theme-carbon/src/components/EditLink/index.js","webpack://spm-kubernetes/./node_modules/gatsby-theme-carbon/src/components/EditLink/EditLink.js","webpack://spm-kubernetes/./node_modules/gatsby-theme-carbon/src/components/EditLink/EditLink.module.scss","webpack://spm-kubernetes/./node_modules/gatsby-theme-carbon/src/components/PageTabs/PageTabs.js","webpack://spm-kubernetes/./node_modules/gatsby-theme-carbon/src/components/PageTabs/PageTabs.module.scss","webpack://spm-kubernetes/./node_modules/gatsby-theme-carbon/src/components/PageTabs/index.js","webpack://spm-kubernetes/./node_modules/gatsby-theme-carbon/src/components/LastModifiedDate/index.js","webpack://spm-kubernetes/./node_modules/gatsby-theme-carbon/src/components/LastModifiedDate/LastModifiedDate.js","webpack://spm-kubernetes/./node_modules/gatsby-theme-carbon/src/components/LastModifiedDate/last-modified-date.module.scss","webpack://spm-kubernetes/./node_modules/gatsby-theme-carbon/src/templates/Default.js"],"sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\n\nimport DefaultLayout from \"/home/travis/build/IBM/spm-kubernetes/node_modules/gatsby-theme-carbon/src/templates/Default.js\";\nexport const _frontmatter = {};\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n  return <div {...props} />;\n};\n\nconst InlineNotification = makeShortcode(\"InlineNotification\");\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <InlineNotification kind=\"info\" mdxType=\"InlineNotification\">\n      <p><strong parentName=\"p\">{`Troubleshooting`}</strong>{` If you need help troubleshooting problems, see `}<a parentName=\"p\" {...{\n          \"href\": \"/spm-kubernetes/troubleshooting/troubleshoot\"\n        }}>{`Troubleshooting problems`}</a>{`.`}</p>\n    </InlineNotification>\n    <p>{`The `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/IBM/spm-kubernetes\"\n      }}>{`spm-kubernetes`}</a>{` repository provides the following Helm charts:`}</p>\n    <ul>\n      <li parentName=\"ul\"><em parentName=\"li\">{`apps:`}</em>{` defines how to deploy the IBM® WebSphere® Liberty images with IBM® Cúram Social Program Management (SPM).`}</li>\n      <li parentName=\"ul\"><em parentName=\"li\">{`batch:`}</em>{` defines the batch image configuration.`}</li>\n      <li parentName=\"ul\"><em parentName=\"li\">{`uawebapp:`}</em>{` defines how to deploy the Universal Access (React) application.`}</li>\n      <li parentName=\"ul\"><em parentName=\"li\">{`web:`}</em>{` defines how to deploy the static content image for SPM (`}<inlineCode parentName=\"li\">{`Curam`}</inlineCode>{` image only).`}</li>\n      <li parentName=\"ul\"><em parentName=\"li\">{`mqserver:`}</em>{` defines the IBM WebSphere MQ image configuration.`}</li>\n      <li parentName=\"ul\"><em parentName=\"li\">{`xmlserver:`}</em>{` defines the xmlserver container configuration.`}</li>\n      <li parentName=\"ul\"><em parentName=\"li\">{`spm:`}</em>{` an umbrella chart to contain all the other charts.`}</li>\n    </ul>\n    <p>{`The charts use a templating mechanism to create the YAML file that is used by Kubernetes.\nFor this reason, the main configuration values are stored for each chart in a `}<inlineCode parentName=\"p\">{`values.yaml`}</inlineCode>{` file in the main folder of the charts.\nThe values can also be overwritten by the `}<inlineCode parentName=\"p\">{`spm:*`}</inlineCode>{` umbrella chart or by a provided override file during deployment as described in `}<a parentName=\"p\" {...{\n        \"href\": \"/spm-kubernetes/deployment/hc_deployment\"\n      }}>{`Deploying Helm charts`}</a>{`.`}</p>\n    <p>{`YAML is a human-readable structured data format. It provides powerful configuration settings, without having to learn a more complex code type like CSS, JavaScript, or PHP.`}</p>\n    <h2>{`Preparing to run the Helm charts`}</h2>\n    <p>{`Before you run the charts, you must configure the database, configure IBM MQ, resolve all chart dependencies, and test the charts.\nYou may also optionally integrate your deployment with an ISAM server for SSO enablement,\nto do so complete the steps on the `}<a parentName=\"p\" {...{\n        \"href\": \"/spm-kubernetes/supporting-infrastructure/ISAM\"\n      }}>{`Enabling ISAM`}</a>{` page under Supporting Infrastructure before returning here.`}</p>\n    <p>{`Many of the Helm charts that make up a deployment of SPM depend on the `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/IBM/charts/tree/master/samples/ibm-sch\"\n      }}>{`IBM Shared Configuration Helpers`}</a>{` chart, so an extra Helm repository must be added using the following command:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`helm repo add sch https://raw.githubusercontent.com/IBM/charts/master/repo/samples\nhelm repo update\n`}</code></pre>\n    <h3>{`Configuring the Helm chart`}</h3>\n    <p>{`An in-depth catalog of available configuration options is available in the `}<a parentName=\"p\" {...{\n        \"href\": \"/spm-kubernetes/deployment/config-reference\"\n      }}>{`Configuration Reference`}</a>{` topic.`}</p>\n    <p>{`While you may change the values in your local copy of `}<inlineCode parentName=\"p\">{`helm-charts/spm/values.yaml`}</inlineCode>{`, it is strongly recommended to use a values override file with your custom options.`}</p>\n    <InlineNotification mdxType=\"InlineNotification\">\n      <p>{`Sample override files for Minikube, IKS, and CRC are also available in the `}<inlineCode parentName=\"p\">{`$SPM_HOME/static/resources`}</inlineCode>{` folder. We have provided a minimum\nspec required for a successful deployment in these files, with more options for overriding commented out. The config options from the\nbefore mentioned `}<a parentName=\"p\" {...{\n          \"href\": \"/spm-kubernetes/deployment/config-reference\"\n        }}>{`Configuration Reference`}</a>{` topic should be used with these files.`}</p>\n    </InlineNotification>\n    <InlineNotification kind=\"warning\" mdxType=\"InlineNotification\">\n      <p>{`In November 2020, Docker introduced `}<a parentName=\"p\" {...{\n          \"href\": \"https://docs.docker.com/docker-hub/download-rate-limit/\"\n        }}>{`download rate limits`}</a>{` on Docker Hub.\nThis can be mitigated by providing an Image Pull Secret to the deployment using the `}<inlineCode parentName=\"p\">{`global.hubPullSecret.secretName`}</inlineCode>{` value.`}</p>\n    </InlineNotification>\n    <h3>{`Configuring IBM MQ`}</h3>\n    <p>{`IBM MQ is already configured to work out of the box with a secure connection with IBM WebSphere Liberty.\nThe commands that create all the objects that are needed on the queue manager are defined in a config map, in the `}<inlineCode parentName=\"p\">{`configmap-mqsc.yaml`}</inlineCode>{` file.`}</p>\n    <p>{`The password for the IBM MQ web console can be retrieved from the created Secret resource using the following command `}<strong parentName=\"p\">{`after`}</strong>{` it has been deployed:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`kubectl get secret <releaseName>-mq-credentials -o go-template='{{.data.adminPasswordKey | base64decode}}{{\"\\\\n\"}}'\n`}</code></pre>\n    <h2>{`Packaging the Helm charts`}</h2>\n    <p>{`To use the Helm Charts to install SPM, package the charts and load them into a repository. For more information, see `}<a parentName=\"p\" {...{\n        \"href\": \"/spm-kubernetes/prereq/chartmuseum\"\n      }}>{`ChartMuseum`}</a>{`.`}</p>\n    <p>{`For each chart, its dependencies must be resolved before it can be loaded into a Helm repository like Chart museum.`}</p>\n    <InlineNotification mdxType=\"InlineNotification\">\n      <p>{`Due to an internal Helm `}<a parentName=\"p\" {...{\n          \"href\": \"https://github.com/helm/helm/issues/5780\"\n        }}>{`defect`}</a>{`, conditional subchart enablement does not work in Helm 3.\nAs a result of this, `}<inlineCode parentName=\"p\">{`uawebapp`}</inlineCode>{` needs to be packaged and pushed, irrespective of whether you are deploying it or not.\nIt is possible to remove the dependency from the spm `}<inlineCode parentName=\"p\">{`chart.yaml`}</inlineCode>{`, if you do not wish to package and push it to the repo.`}</p>\n    </InlineNotification>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`cd $SPM_HOME/helm-charts\n\nhelm dependency update apps\nhelm dependency update mqserver\nhelm dependency update xmlserver\nhelm dependency update batch\nhelm dependency update web\nhelm dependency update uawebapp\n`}</code></pre>\n    <p>{`If you made any changes to any of the charts, these can now be verified using the `}<inlineCode parentName=\"p\">{`helm lint`}</inlineCode>{` and `}<inlineCode parentName=\"p\">{`helm template`}</inlineCode>{` commands, for example:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`cd $SPM_HOME/helm-charts\n\nhelm lint apps\nhelm template apps\n`}</code></pre>\n    <p>{`To publish the individual charts to the Chart museum repository, run the following commands from the `}<inlineCode parentName=\"p\">{`helm-charts`}</inlineCode>{` folder. The commands also use the `}<inlineCode parentName=\"p\">{`$SPM_HOME`}</inlineCode>{` value that is defined in `}<a parentName=\"p\" {...{\n        \"href\": \"/spm-kubernetes/prereq/git\"\n      }}>{`Install prerequisite software`}</a>{`:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`cd $SPM_HOME/helm-charts\n\nhelm push apps local-development\nhelm push mqserver local-development\nhelm push xmlserver local-development\nhelm push batch local-development\nhelm push web local-development\nhelm push uawebapp local-development\n\nhelm repo update\n`}</code></pre>\n    <p>{`To generate the umbrella chart that is used for the deployment, run the following commands:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`cd $SPM_HOME/helm-charts\n\nhelm dependency update spm\nhelm push spm local-development\n\nhelm repo update\n`}</code></pre>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      ","import PageHeader from './PageHeader';\n\nexport default PageHeader;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\nimport * as styles from './PageHeader.module.scss';\n\nconst PageHeader = ({ title, theme, tabs = [] }) => (\n  <div\n    className={cx(styles.pageHeader, {\n      [styles.withTabs]: tabs.length,\n      [styles.darkMode]: theme === 'dark',\n    })}>\n    <div className=\"bx--grid\">\n      <div className=\"bx--row\">\n        <div className=\"bx--col-lg-12\">\n          <h1 id=\"page-title\" className={styles.text}>\n            {title}\n          </h1>\n        </div>\n      </div>\n    </div>\n  </div>\n);\n\nPageHeader.propTypes = {\n  /**\n   * Specify the title for the page\n   */\n  title: PropTypes.node,\n};\n\nexport default PageHeader;\n","// extracted by mini-css-extract-plugin\nexport var bxTextTruncateEnd = \"PageHeader-module--bx--text-truncate--end--379mx\";\nexport var bxTextTruncateFront = \"PageHeader-module--bx--text-truncate--front--2QE1Z\";\nexport var pageHeader = \"PageHeader-module--page-header--1JmOE\";\nexport var darkMode = \"PageHeader-module--dark-mode--aV7If\";\nexport var withTabs = \"PageHeader-module--with-tabs--ezlJE\";\nexport var text = \"PageHeader-module--text--J1--B\";","import EditLink from './EditLink';\n\nexport default EditLink;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { graphql, useStaticQuery } from 'gatsby';\n\nimport { link, row } from './EditLink.module.scss';\n\nconst EditLink = ({ relativePagePath, repository: repositoryProp }) => {\n  const {\n    site: {\n      siteMetadata: { repository },\n    },\n  } = useStaticQuery(graphql`\n    query REPOSITORY_QUERY {\n      site {\n        siteMetadata {\n          repository {\n            baseUrl\n            subDirectory\n            branch\n          }\n        }\n      }\n    }\n  `);\n\n  const { baseUrl, subDirectory, branch } = repositoryProp || repository;\n\n  const href = `${baseUrl}/edit/${branch}${subDirectory}/src/pages${relativePagePath}`;\n\n  return baseUrl ? (\n    <div className={`bx--row ${row}`}>\n      <div className=\"bx--col\">\n        <a className={link} href={href}>\n          Edit this page on GitHub\n        </a>\n      </div>\n    </div>\n  ) : null;\n};\n\nEditLink.propTypes = {\n  repository: PropTypes.shape({\n    baseUrl: PropTypes.string,\n    subDirectory: PropTypes.string,\n    branch: PropTypes.string,\n  }),\n  relativePagePath: PropTypes.string,\n};\n\nexport default EditLink;\n","// extracted by mini-css-extract-plugin\nexport var bxTextTruncateEnd = \"EditLink-module--bx--text-truncate--end--27F-D\";\nexport var bxTextTruncateFront = \"EditLink-module--bx--text-truncate--front--2eTgE\";\nexport var link = \"EditLink-module--link--t_pLX\";\nexport var row = \"EditLink-module--row--2vJiZ\";","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'gatsby';\nimport slugify from 'slugify';\nimport cx from 'classnames';\n\nimport {\n  tabsContainer,\n  list,\n  selectedItem,\n  listItem,\n  link,\n} from './PageTabs.module.scss';\n\nexport default class PageTabs extends React.Component {\n  render() {\n    const { title, tabs, slug } = this.props;\n    const currentTab = slug.split('/').filter(Boolean).slice(-1)[0];\n\n    const pageTabs = tabs.map((tab) => {\n      const slugifiedTab = slugify(tab, { lower: true, strict: true });\n      const selected = slugifiedTab === currentTab;\n      // matches with or without trailing slash: /?\n      // matches with or without hash link: (#.*)?\n      const currentTabRegex = new RegExp(`${currentTab}/?(#.*)?$`);\n      const href = slug.replace(currentTabRegex, slugifiedTab);\n      return (\n        <li key={tab} className={cx({ [selectedItem]: selected }, listItem)}>\n          <Link className={link} to={`${href}`}>\n            {tab}\n          </Link>\n        </li>\n      );\n    });\n\n    return (\n      <div className={tabsContainer}>\n        <div className=\"bx--grid\">\n          <div className=\"bx--row\">\n            <div className=\"bx--col-lg-12 bx--col-no-gutter\">\n              <nav aria-label={title}>\n                <ul className={list}>{pageTabs}</ul>\n              </nav>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nPageTabs.propTypes = {\n  tabs: PropTypes.array,\n  slug: PropTypes.string,\n};\n","// extracted by mini-css-extract-plugin\nexport var bxTextTruncateEnd = \"PageTabs-module--bx--text-truncate--end--36NdM\";\nexport var bxTextTruncateFront = \"PageTabs-module--bx--text-truncate--front--3IxF7\";\nexport var tabsContainer = \"PageTabs-module--tabs-container--18QsR\";\nexport var list = \"PageTabs-module--list--3gLeN\";\nexport var listItem = \"PageTabs-module--list-item--2X02I\";\nexport var link = \"PageTabs-module--link--2anNu\";\nexport var selectedItem = \"PageTabs-module--selected-item--3CjGa\";","import PageTabs from './PageTabs';\n\nexport default PageTabs;\n","import LastModifiedDate from './LastModifiedDate';\n\nexport default LastModifiedDate;\n","import React from 'react';\nimport { Row, Column } from '../Grid';\nimport * as styles from './last-modified-date.module.scss';\n\nconst LastModifiedDate = ({ date }) => {\n  const options = {\n    day: '2-digit',\n    year: 'numeric',\n    month: 'long',\n  };\n\n  const lastModified = new Date(date);\n\n  return date ? (\n    <Row className={styles.row}>\n      <Column>\n        <div className={styles.text}>\n          Page last updated: {lastModified.toLocaleDateString('en-GB', options)}\n          {/* // https://www-03preprod.ibm.com/support/knowledgecenter/ibm_style/dates-and-times.html */}\n        </div>\n      </Column>\n    </Row>\n  ) : null;\n};\nexport default LastModifiedDate;\n","// extracted by mini-css-extract-plugin\nexport var bxTextTruncateEnd = \"last-modified-date-module--bx--text-truncate--end--3sLO2\";\nexport var bxTextTruncateFront = \"last-modified-date-module--bx--text-truncate--front--3gAON\";\nexport var text = \"last-modified-date-module--text--1RmBx\";\nexport var row = \"last-modified-date-module--row--Bb0E9\";","import React from 'react';\nimport slugify from 'slugify';\nimport { useStaticQuery, graphql } from 'gatsby';\n\nimport Utils from '../components/Utils';\nimport Layout from '../components/Layout';\nimport PageHeader from '../components/PageHeader';\nimport EditLink from '../components/EditLink';\nimport NextPrevious from '../components/NextPrevious';\nimport PageTabs from '../components/PageTabs';\nimport Main from '../components/Main';\nimport useMetadata from '../util/hooks/useMetadata';\nimport LastModifiedDate from '../components/LastModifiedDate';\n\nconst Default = ({ pageContext, children, location, Title }) => {\n  const { frontmatter = {}, relativePagePath, titleType } = pageContext;\n  const {\n    tabs,\n    title,\n    theme: frontmatterTheme,\n    description,\n    keywords,\n    date,\n  } = frontmatter;\n\n  const { interiorTheme } = useMetadata();\n\n  // get the path prefix if it exists\n  const {\n    site: { pathPrefix },\n  } = useStaticQuery(graphql`\n    query PATH_PREFIX_QUERY {\n      site {\n        pathPrefix\n      }\n    }\n  `);\n\n  // let gatsby handle prefixing\n  const slug = pathPrefix\n    ? location.pathname.replace(pathPrefix, '')\n    : location.pathname;\n\n  const getCurrentTab = () => {\n    if (!tabs) return '';\n    return (\n      slug.split('/').filter(Boolean).slice(-1)[0] ||\n      slugify(tabs[0], { lower: true })\n    );\n  };\n\n  const currentTab = getCurrentTab();\n\n  const theme = frontmatterTheme || interiorTheme;\n\n  return (\n    <Layout\n      tabs={tabs}\n      homepage={false}\n      theme={theme}\n      pageTitle={title}\n      pageDescription={description}\n      pageKeywords={keywords}\n      titleType={titleType}>\n      <PageHeader\n        title={Title ? <Title /> : title}\n        label=\"label\"\n        tabs={tabs}\n        theme={theme}\n      />\n      {tabs && (\n        <PageTabs\n          title={title}\n          slug={slug}\n          tabs={tabs}\n          currentTab={currentTab}\n        />\n      )}\n      <Main padded>\n        {children}\n        <EditLink relativePagePath={relativePagePath} />\n        <LastModifiedDate date={date} />\n      </Main>\n      <NextPrevious\n        pageContext={pageContext}\n        location={location}\n        slug={slug}\n        tabs={tabs}\n        currentTab={currentTab}\n      />\n      <Utils />\n    </Layout>\n  );\n};\n\nexport default Default;\n"],"names":["name","_frontmatter","InlineNotification","props","console","warn","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","mdxType","kind","parentName","isMDXComponent","title","theme","tabs","className","cx","length","id","relativePagePath","repositoryProp","repository","useStaticQuery","site","siteMetadata","baseUrl","subDirectory","href","branch","PageTabs","render","this","slug","currentTab","split","filter","Boolean","slice","pageTabs","map","tab","slugifiedTab","slugify","lower","strict","selected","currentTabRegex","RegExp","replace","key","Link","to","React","date","lastModified","Date","toLocaleDateString","day","year","month","pageContext","children","location","Title","frontmatter","titleType","frontmatterTheme","description","keywords","interiorTheme","useMetadata","pathPrefix","pathname","Layout","homepage","pageTitle","pageDescription","pageKeywords","label","Main","padded","NextPrevious","Utils"],"sourceRoot":""}